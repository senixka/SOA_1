# Тестирование форматов сериализации

Данный репозиторий содержит код для тестирования различных форматов сериализации и десериализации данных. Для тестирования используется язык Python, для замера времени работы - модуль `timeit`. Время сериализации/десериализации измеряется в микросекундах (μs), и вычисляется как среднее 1000 циклов сериализации/десериализациив. Результат тестирования имеет вид: {Формат сериализации} – {Размер сериализованной структуры в байтах} – {Время сериализации} – {Время десериализации}

Тестируемая структура данных:
```
{"strT" : "Hello world!",
 "intT" : 123456,
 "floatT" : 0.000023,
 "arrayIntT" : [-1, 23, 0, 7777],
 "arrayStrT" : ["Abra", "Cadabra"],
 "dictFloatT" : {"first": 0.0001, "second": 42.42},
 "dictStrT" : {"first": "Apple", "second": "Banana"}}
```

Вся работа ведется через udp proxy, которая доступна на порту 2000.

Прокси получает запрос вида `get_result {TYPE}`, где `{TYPE}` указывает на тестируемый формат:
| {TYPE} | Соответствующий формат |
--- | --- |
| NATIVE | Нативный вариант сериализации (модуль pickle) |
| JSON | JSON |
| PROTOBUF | Google Protocol Buffers |
| MSGPACK | MessagePack |
| YAML | YAML |
| XML | XML |
| AVRO | Apache Avro |
| all | Рассматривается как мультикаст запрос, запуская тестирование всех форматов |

Каждый формат тестируется в отдельном контейнере. Для запуска используется `docker compose` и образы с Docker Hub.

Все развертывание выполняется командами:
```
docker compose build
docker compose up -d
```

Для общения с прокси можно использовать `netcat`:
```
nc -u localhost 2000
```

Для настройки мультикаст группы и порта используется файл `.env` в корне репозитория.
